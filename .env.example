# LeadBrief Environment Variables
# Copy this file to .env and fill in values

# ===========================================
# REQUIRED FOR ALL ENVIRONMENTS
# ===========================================

# PostgreSQL connection string
# Replit: Auto-provisioned, check Secrets tab
# Railway/Supabase: Use Session Pooler URL (port 5432)
# Format: postgresql://user:password@host:5432/database
DATABASE_URL=postgresql://postgres.XXXXX:YOUR_PASSWORD@aws-0-us-east-1.pooler.supabase.com:5432/postgres

# Session encryption secret (32+ characters)
# Generate with: openssl rand -hex 32
SESSION_SECRET=your-super-secret-session-key-at-least-32-chars

# ===========================================
# REQUIRED FOR RAILWAY/SUPABASE DEPLOYMENT
# ===========================================

# Supabase Project URL
# Found in: Supabase Dashboard → Settings → API → URL
SUPABASE_URL=https://XXXXX.supabase.co

# Supabase Anonymous/Public Key (safe to expose)
# Found in: Supabase Dashboard → Settings → API → anon public
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (keep secret!)
# Found in: Supabase Dashboard → Settings → API → service_role
# Used for server-side token verification
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Application URL (for auth redirects)
# Railway: Your Railway app URL
APP_URL=https://your-app.railway.app

# ===========================================
# OPTIONAL
# ===========================================

# API Key for /api/intake webhook endpoint
# If not set, endpoint is open (development mode)
API_KEY=your-api-key-for-intake-endpoint

# Debug key for /debug/lastlog endpoint
# Required to access crash logs
DEBUG_KEY=your-debug-key

# Node environment
# production | development
NODE_ENV=production

# Server port (default: 5000)
# Railway sets PORT automatically
PORT=5000

# ===========================================
# REPLIT-ONLY (Auto-set by Replit)
# ===========================================

# These are automatically set when running on Replit:
# REPL_ID - Enables Replit Auth
# REPLIT_DEPLOYMENT - Set in deployment mode

# ===========================================
# FRONTEND (Vite)
# ===========================================

# Optional: Frontend can use these if set at build time
# Otherwise, frontend fetches config from /api/auth/config at runtime
# VITE_SUPABASE_URL=https://XXXXX.supabase.co
# VITE_SUPABASE_ANON_KEY=eyJ...
